<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.owl.drive.dao.DriveDao">
	<insert id="insertFolder" parameterType="com.owl.drive.dto.DriveFolder">
			INSERT INTO DRIVEFOLDER(FOLDERNAME, REF, DEPTH, PROJECTIDX) 
			VALUES(#{folderName}, #{ref}, #{depth}, #{projectIdx})
	</insert>
	
	<insert id="insertFile" parameterType="com.owl.drive.dto.DriveFile">
		INSERT INTO owl.DRIVEFILE (FILENAME, FILESIZE, CREATOR, DRIVEIDX) 
		VALUES(#{fileName}, #{fileSize}, #{creator}, #{driveIdx})
	</insert>	

	<select id="getDriveList"  resultType="com.owl.drive.dto.DriveFolder" parameterType="int">
		SELECT DRIVEIDX, FOLDERNAME, REF, DEPTH, PROJECTIDX FROM DRIVEFOLDER WHERE PROJECTIDX = #{projectIdx};
	</select>
	
	<select id="getFileByFolderIdx" resultType="com.owl.drive.dto.DriveFile" parameterType="int">
		SELECT DRIVEFILEIDX, FILENAME, CREATOR, FILESIZE, CREATEDATE 
			FROM owl.DRIVEFILE 
		WHERE DRIVEIDX = #{folderIdx} AND ISDELETE = 0
	</select>
</mapper>